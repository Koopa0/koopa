// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package layout

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

// Base is the root HTML layout for all GenUI pages
func Base(title string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!doctype html><html lang=\"en\" class=\"h-full\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><meta name=\"description\" content=\"Koopa - AI Assistant\"><title>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(title)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/layout/base.templ`, Line: 11, Col: 17}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, " - Koopa</title><link href=\"/genui/static/css/output.css\" rel=\"stylesheet\"><!-- Prism.js for syntax highlighting (bundled locally for CSP compliance) --><link href=\"/genui/static/css/prism/prism-tomorrow.min.css\" rel=\"stylesheet\"><link href=\"/genui/static/css/prism/prism-line-numbers.css\" rel=\"stylesheet\"><script>\n\t\t\t// Set theme before render to prevent flash\n\t\t\t(function() {\n\t\t\t\tconst theme = localStorage.getItem('theme') ||\n\t\t\t\t\t(window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');\n\t\t\t\tdocument.documentElement.classList.toggle('dark', theme === 'dark');\n\t\t\t})();\n\t\t</script><!-- Alpine.js Component Helpers --><script>\n\t\t\t// Alpine.js helper for tabs keyboard navigation\n\t\t\t// Used by: Tabs component (internal/ui/web/component/tabs.templ)\n\t\t\tdocument.addEventListener('alpine:init', () => {\n\t\t\t\tAlpine.data('tabsNav', () => ({\n\t\t\t\t\tfocusPrev() {\n\t\t\t\t\t\tconst tabs = this.$el.querySelectorAll('[role=\"tab\"]');\n\t\t\t\t\t\tconst index = Array.from(tabs).findIndex(t => t === document.activeElement);\n\t\t\t\t\t\tif (index > 0) {\n\t\t\t\t\t\t\ttabs[index - 1].focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttabs[tabs.length - 1].focus();  // Wrap to end\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfocusNext() {\n\t\t\t\t\t\tconst tabs = this.$el.querySelectorAll('[role=\"tab\"]');\n\t\t\t\t\t\tconst index = Array.from(tabs).findIndex(t => t === document.activeElement);\n\t\t\t\t\t\tif (index < tabs.length - 1) {\n\t\t\t\t\t\t\ttabs[index + 1].focus();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttabs[0].focus();  // Wrap to start\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfocusFirst() {\n\t\t\t\t\t\tconst tabs = this.$el.querySelectorAll('[role=\"tab\"]');\n\t\t\t\t\t\tif (tabs.length > 0) tabs[0].focus();\n\t\t\t\t\t},\n\t\t\t\t\tfocusLast() {\n\t\t\t\t\t\tconst tabs = this.$el.querySelectorAll('[role=\"tab\"]');\n\t\t\t\t\t\tif (tabs.length > 0) tabs[tabs.length - 1].focus();\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t});\n\t\t</script></head><body class=\"h-full bg-gray-50 text-gray-900 dark:bg-surface-950 dark:text-white antialiased\"><!-- Skip navigation for accessibility --><a href=\"#main-content\" class=\"sr-only focus:not-sr-only focus:absolute focus:z-50 focus:p-4 focus:bg-primary-600 focus:text-white focus:rounded\">Skip to main content</a>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ_7745c5c3_Var1.Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<!-- Global containers for HTMX OOB swaps --><div id=\"toast-container\" class=\"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-sm\" aria-live=\"polite\" aria-atomic=\"false\"><!-- Toast notifications appended here via OOB --></div><div id=\"modal-container\" class=\"fixed inset-0 z-40 hidden\" role=\"dialog\" aria-modal=\"true\"><!-- Modal dialogs rendered here --></div><script src=\"/genui/static/js/htmx.min.js\"></script><script src=\"/genui/static/js/htmx-sse.js\"></script><!-- Prism.js core + plugins (bundled locally for CSP compliance) --><script src=\"/genui/static/js/prism/prism-core.min.js\"></script><script src=\"/genui/static/js/prism/prism-line-numbers.min.js\"></script><script src=\"/genui/static/js/prism/prism-autoloader.min.js\"></script><!-- Alpine.js for UI state management (bundled locally for CSP compliance) --><script defer src=\"/genui/static/js/alpine.min.js\"></script><script>\n\t\t\t// Auto-highlight code blocks when streaming completes\n\t\t\tdocument.addEventListener('htmx:afterSwap', function(event) {\n\t\t\t\tconst codeBlocks = event.detail.target.querySelectorAll('[data-streaming=\"false\"]');\n\t\t\t\tcodeBlocks.forEach(block => {\n\t\t\t\t\tblock.removeAttribute('data-streaming');\n\t\t\t\t\tPrism.highlightElement(block);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Global HTMX CSRF token configuration\n\t\t\t// Only inject CSRF token for non-form elements (buttons, links with hx-get, etc.)\n\t\t\t// Forms already serialize hidden inputs, so injecting would create duplicates\n\t\t\tdocument.body.addEventListener('htmx:configRequest', function(event) {\n\t\t\t\t// Skip forms - they already include csrf_token as hidden input\n\t\t\t\tif (event.detail.elt.tagName === 'FORM') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// For non-form elements, find nearest form and inject its CSRF token\n\t\t\t\tconst csrfToken = event.detail.elt.closest('form')?.querySelector('[name=\"csrf_token\"]')?.value;\n\t\t\t\tif (csrfToken) {\n\t\t\t\t\tevent.detail.parameters['csrf_token'] = csrfToken;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Global HTMX error handlers\n\t\t\tdocument.addEventListener('htmx:responseError', function(evt) {\n\t\t\t\tconsole.error('HTMX Error:', evt.detail);\n\n\t\t\t\t// Show toast notification\n\t\t\t\tconst toast = document.createElement('div');\n\t\t\t\ttoast.className = 'fixed bottom-4 right-4 bg-red-600 text-white px-4 py-3 rounded-lg shadow-lg z-50';\n\t\t\t\ttoast.textContent = 'Request failed. Please try again.';\n\t\t\t\tdocument.body.appendChild(toast);\n\n\t\t\t\tsetTimeout(() => toast.remove(), 5000);\n\t\t\t});\n\n\t\t\tdocument.addEventListener('htmx:sendError', function(evt) {\n\t\t\t\tconsole.error('HTMX Network Error:', evt.detail);\n\n\t\t\t\tconst toast = document.createElement('div');\n\t\t\t\ttoast.className = 'fixed bottom-4 right-4 bg-red-600 text-white px-4 py-3 rounded-lg shadow-lg z-50';\n\t\t\t\ttoast.textContent = 'Network error. Please check your connection.';\n\t\t\t\tdocument.body.appendChild(toast);\n\n\t\t\t\tsetTimeout(() => toast.remove(), 5000);\n\t\t\t});\n\t\t</script></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

// DualPanel is a two-column layout for chat + artifact canvas
func DualPanel() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var3 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var3 == nil {
			templ_7745c5c3_Var3 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "<div class=\"flex h-full\"><!-- Main chat panel --><main id=\"main-content\" class=\"flex flex-1 flex-col overflow-hidden\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ_7745c5c3_Var3.Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "</main><!-- Artifact canvas (hidden by default, shown via HTMX) --><aside id=\"artifact-panel\" class=\"hidden w-[45%] border-l border-gray-200 dark:border-gray-700 bg-white dark:bg-surface-900 overflow-hidden lg:flex lg:flex-col\"><div id=\"artifact-content\" class=\"flex-1 overflow-auto p-4\"><!-- Artifact content injected here --></div></aside></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
